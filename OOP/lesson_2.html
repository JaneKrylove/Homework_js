<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      /*
      let user = {
        name: "Евгения",
        surname: "Крылова",
        fullname: function () {
          console.log(`${this.name} ${this.surname}`);
        },
      };
      /* console.log(user.name);
           user.fullname();
      */
      // рассмотрим геттеры и сеттеры
      /*
      let user1 = {
        name: "Евгения",
        surname: "Крылова",
        get fullname() {
          return `${this.name} ${this.surname}`;
        },
        set fullname(value) {
          [this.name, this.surname] = value.split(" ");
        },
      };

      console.log(user1.name);
      console.log(user1.fullname);
      user1.fullname = "Евгения Крылова";
      console.log(user1.fullname);

      // с помощью методов get/set можно проводить проверки свойств объектов

      let user2 = {
        get age() {
          return this._age;
        },
        set age(value) {
          if (value < 18) {
            alert("Доступ воспрещен!");
            return;
          }
          this._age = value;
        },
      };
      */
      //   console.log((user2.age = 17));

      // функциональный способ описания объекта

      /*
      function User(name, birthday) {
        this.name = name;
        this.birthday = birthday;

        Object.defineProperty(this, "age", {
          get() {
            let todayYear = new Date().getFullYear();
            return todayYear - this.birthday.getFullYear();
          },
        });
      }

      let user3 = new User("Петя", new Date(1992, 6, 1));

      console.log(user3.name);
      console.log(user3.age);
      
      */

      // геттеры и сеттеры в контексте классов

      class User1 {
        constructor(age) {
          //вызывает сеттер
          this.age = age;
        }
        get age() {
          return this._age;
        }
        set age(value) {
          if (value < 18) {
            alert("Доступ воспрещен!");
            return;
          }
          this._age = value;
        }
      }

      let user6 = new User1(27);
      alert(user6.age);
      let user7 = new User1(17);
    </script>
  </body>
</html>
